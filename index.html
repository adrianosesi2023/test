<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Impress√£o T√©rmica</title>
    <style>
        body {
            margin: 0;
            padding: 10px;
            font-family: 'Courier New', Consolas, monospace;
            background: #f0f0f0;
        }
        
        .controls {
            background: white;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
            text-align: center;
        }
        
        .btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 12px 20px;
            margin: 5px;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            min-width: 120px;
        }
        
        .btn-print { background: #28a745; }
        .btn-toggle { background: #6c757d; }
        
        /* Formato do recibo t√©rmico */
        .thermal-receipt {
            width: 58mm; /* Papel t√©rmico comum */
            max-width: 220px;
            margin: 0 auto;
            background: white;
            padding: 5mm;
            font-family: 'Courier New', Consolas, monospace;
            font-size: 9pt;
            line-height: 1.2;
            color: black;
            border: 1px solid #ccc;
            box-sizing: border-box;
        }
        
        .receipt-header {
            text-align: center;
            margin-bottom: 8px;
            border-bottom: 1px dashed #333;
            padding-bottom: 5px;
        }
        
        .receipt-title {
            font-size: 11pt;
            font-weight: bold;
            margin: 0;
        }
        
        .receipt-date {
            font-size: 8pt;
            margin: 2px 0 0 0;
        }
        
        .receipt-info {
            margin: 8px 0;
            border-bottom: 1px dashed #333;
            padding-bottom: 5px;
        }
        
        .receipt-info p {
            margin: 1px 0;
            font-size: 8pt;
        }
        
        .receipt-items {
            margin: 8px 0;
        }
        
        .receipt-items h4 {
            margin: 0 0 5px 0;
            font-size: 9pt;
            font-weight: bold;
        }
        
        .item {
            margin-bottom: 6px;
            font-size: 8pt;
        }
        
        .item-name {
            font-weight: bold;
            margin-bottom: 1px;
        }
        
        .item-obs {
            font-size: 7pt;
            margin-left: 8px;
            color: #555;
            margin-bottom: 1px;
        }
        
        .item-extras {
            font-size: 7pt;
            margin-left: 8px;
            color: #666;
        }
        
        .receipt-total {
            border-top: 1px dashed #333;
            padding-top: 5px;
            margin-top: 8px;
            text-align: right;
            font-weight: bold;
            font-size: 10pt;
        }
        
        .hidden {
            display: none;
        }
        
        /* Media query espec√≠fica para impress√£o t√©rmica */
        @media print {
            body {
                margin: 0 !important;
                padding: 0 !important;
                background: white !important;
                font-size: 8pt !important;
            }
            
            .controls {
                display: none !important;
            }
            
            .thermal-receipt {
                width: 100% !important;
                max-width: none !important;
                margin: 0 !important;
                padding: 2mm !important;
                border: none !important;
                box-shadow: none !important;
                page-break-inside: avoid;
            }
            
            .receipt-title {
                font-size: 10pt !important;
            }
            
            .receipt-date {
                font-size: 7pt !important;
            }
            
            .receipt-info p {
                font-size: 7pt !important;
            }
            
            .receipt-items h4 {
                font-size: 8pt !important;
            }
            
            .item {
                font-size: 7pt !important;
            }
            
            .item-obs {
                font-size: 6pt !important;
            }
            
            .item-extras {
                font-size: 6pt !important;
            }
            
            .receipt-total {
                font-size: 9pt !important;
            }
        }
        
        /* Estilo para papel cont√≠nuo */
        @page {
            size: 58mm auto;
            margin: 0;
        }
    </style>
</head>
<body>
    <div class="controls">
        <h2>Teste Impress√£o T√©rmica</h2>
        <p>Formato: 58mm Paper Roll</p>
        
        <button class="btn btn-print" onclick="imprimirRecibo()">üñ®Ô∏è IMPRIMIR</button>
        <button class="btn btn-toggle" onclick="toggleFormat()">üìè Mudar Tamanho</button>
        
        <div style="margin-top: 10px; font-size: 12px; color: #666;">
            <p>üì± Para celular: Use "Compartilhar" ‚Üí "Imprimir"</p>
            <p>üñ•Ô∏è Para PC: Ctrl+P ou clique em IMPRIMIR</p>
        </div>
    </div>

    <div class="thermal-receipt" id="recibo">
        <div class="receipt-header">
            <h3 class="receipt-title">PEDIDO #1234</h3>
            <p class="receipt-date">03/08/2025 14:30</p>
        </div>
        
        <div class="receipt-info">
            <p><strong>Tipo:</strong> Balcao</p>
            <p><strong>Local:</strong> Mesa 5</p>
        </div>
        
        <div class="receipt-items">
            <h4>ITENS:</h4>
            
            <div class="item">
                <div class="item-name">2x Hamburguer Especial</div>
                <div class="item-obs">OBS: Sem cebola, mal passado</div>
                <div class="item-extras">+ Bacon Extra</div>
                <div class="item-extras">+ Queijo Cheddar</div>
            </div>
            
            <div class="item">
                <div class="item-name">1x Batata Frita Grande</div>
            </div>
            
            <div class="item">
                <div class="item-name">2x Refrigerante 350ml</div>
                <div class="item-obs">OBS: Coca-Cola gelada</div>
            </div>
            
            <div class="item">
                <div class="item-name">1x Milk-shake Chocolate</div>
                <div class="item-extras">+ Chantilly</div>
                <div class="item-extras">+ Granulado</div>
            </div>
        </div>
        
        <div class="receipt-total">
            TOTAL: R$ 47,50
        </div>
    </div>
    
    <!-- √Årea espec√≠fica s√≥ para impress√£o -->
    <div class="hidden" id="print-only">
        <div style="width: 100%; font-family: 'Courier New', monospace; font-size: 8pt; line-height: 1.1;">
            <div style="text-align: center; margin-bottom: 5mm; border-bottom: 1px dashed black; padding-bottom: 2mm;">
                <div style="font-size: 10pt; font-weight: bold;">PEDIDO #1234</div>
                <div style="font-size: 7pt;">03/08/2025 14:30</div>
            </div>
            
            <div style="margin: 5mm 0; border-bottom: 1px dashed black; padding-bottom: 2mm;">
                <div style="font-size: 7pt;"><strong>Tipo:</strong> Balcao</div>
                <div style="font-size: 7pt;"><strong>Local:</strong> Mesa 5</div>
            </div>
            
            <div style="margin: 5mm 0;">
                <div style="font-size: 8pt; font-weight: bold; margin-bottom: 2mm;">ITENS:</div>
                
                <div style="margin-bottom: 3mm;">
                    <div style="font-size: 7pt; font-weight: bold;">2x Hamburguer Especial</div>
                    <div style="font-size: 6pt; margin-left: 5mm; color: #555;">OBS: Sem cebola, mal passado</div>
                    <div style="font-size: 6pt; margin-left: 5mm;">+ Bacon Extra</div>
                    <div style="font-size: 6pt; margin-left: 5mm;">+ Queijo Cheddar</div>
                </div>
                
                <div style="margin-bottom: 3mm;">
                    <div style="font-size: 7pt; font-weight: bold;">1x Batata Frita Grande</div>
                </div>
                
                <div style="margin-bottom: 3mm;">
                    <div style="font-size: 7pt; font-weight: bold;">2x Refrigerante 350ml</div>
                    <div style="font-size: 6pt; margin-left: 5mm; color: #555;">OBS: Coca-Cola gelada</div>
                </div>
                
                <div style="margin-bottom: 3mm;">
                    <div style="font-size: 7pt; font-weight: bold;">1x Milk-shake Chocolate</div>
                    <div style="font-size: 6pt; margin-left: 5mm;">+ Chantilly</div>
                    <div style="font-size: 6pt; margin-left: 5mm;">+ Granulado</div>
                </div>
            </div>
            
            <div style="border-top: 1px dashed black; padding-top: 2mm; text-align: right; font-size: 9pt; font-weight: bold;">
                TOTAL: R$ 47,50
            </div>
        </div>
    </div>

    <script>
        let currentWidth = 58; // mm
        
        function imprimirRecibo() {
            // Para celular: usar a fun√ß√£o de compartilhamento do navegador
            if (/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                if (navigator.share) {
                    // Se suporta Web Share API
                    const printContent = document.getElementById('recibo').innerText;
                    navigator.share({
                        title: 'Pedido #1234',
                        text: printContent
                    }).catch(err => {
                        // Fallback para impress√£o normal
                        window.print();
                    });
                } else {
                    // Fallback para impress√£o normal
                    window.print();
                }
            } else {
                // Para desktop
                window.print();
            }
        }
        
        function toggleFormat() {
            const recibo = document.getElementById('recibo');
            
            if (currentWidth === 58) {
                // Mudar para 80mm
                currentWidth = 80;
                recibo.style.width = '80mm';
                recibo.style.maxWidth = '300px';
                document.querySelector('.controls p').textContent = 'Formato: 80mm Paper Roll';
            } else {
                // Voltar para 58mm
                currentWidth = 58;
                recibo.style.width = '58mm';
                recibo.style.maxWidth = '220px';
                document.querySelector('.controls p').textContent = 'Formato: 58mm Paper Roll';
            }
        }
        
        // Detectar se est√° em dispositivo m√≥vel e dar instru√ß√µes espec√≠ficas
        if (/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
            document.addEventListener('DOMContentLoaded', function() {
                const controls = document.querySelector('.controls');
                const mobileInstructions = document.createElement('div');
                mobileInstructions.style.cssText = 'background: #e3f2fd; padding: 10px; margin-top: 10px; border-radius: 5px; font-size: 12px;';
                mobileInstructions.innerHTML = `
                    <strong>üì± CELULAR DETECTADO!</strong><br>
                    1. Clique em IMPRIMIR<br>
                    2. Escolha sua impressora t√©rmica<br>
                    3. Configure como "Paper Roll"<br>
                    4. Tamanho: ${currentWidth}mm
                `;
                controls.appendChild(mobileInstructions);
            });
        }
    </script>
</body>
</html>